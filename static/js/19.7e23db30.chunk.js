(this["webpackJsonp@mozg/react-workspace"]=this["webpackJsonp@mozg/react-workspace"]||[]).push([[19],{357:function(e,t,o){"use strict";o.r(t);var a=o(109),s=o.n(a),n=o(110),i=o(38),h=o(8),r=(o(358),o(3));t.default=function(e){e.greeting,e.name;var t={};function a(e){if(!t[e]){var o=document.createElement("script");return o.type="text/javascript",o.addEventListener("load",(function(e){console.log("script loaded: ",e.path[0].src)})),o.src=e,document.getElementsByTagName("head")[0].appendChild(o),t[e]=!0,t}}var d=Object(h.useState)(0),E=Object(i.a)(d,2),c=E[0];return E[1],Object(h.useEffect)((function(){!function(){function e(){return(e=Object(n.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(t){return e.apply(this,arguments)})("https://cdnjs.cloudflare.com/ajax/libs/three.js/86/three.min.js").then((function(e){console.log("ret: ",e);var t=setInterval((function(){console.log("setInterval ret: ",e),"undefined"!==typeof THREE&&(clearInterval(t),console.log("script"),o(359))}),1e3)})).catch(console.error)}()}),[c]),Object(r.jsx)("div",{className:"tinypolyworldthreejs",children:Object(r.jsx)("div",{id:"world"})})}},358:function(e,t,o){},359:function(e,t){var o,a,s,n,i,h,r,d=15881030,E=15592231,c=14209233,w=5845806,m=2300175,l=4555336,p=6460005;function T(){n=window.innerHeight,i=window.innerWidth,h.setSize(i,n),a.aspect=i/n,a.updateProjectionMatrix()}Land=function(){var e=new THREE.CylinderGeometry(600,600,1700,40,10);e.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var t=new THREE.MeshPhongMaterial({color:p,shading:THREE.FlatShading});this.mesh=new THREE.Mesh(e,t),this.mesh.receiveShadow=!0},Orbit=function(){var e=new THREE.Object3D;this.mesh=e},Sun=function(){this.mesh=new THREE.Object3D;var e=new THREE.SphereGeometry(400,20,10),t=new THREE.MeshPhongMaterial({color:E,shading:THREE.FlatShading}),o=new THREE.Mesh(e,t);o.castShadow=!1,o.receiveShadow=!1,this.mesh.add(o)},Cloud=function(){this.mesh=new THREE.Object3D;for(var e=new THREE.DodecahedronGeometry(20,0),t=new THREE.MeshPhongMaterial({color:c}),o=3+Math.floor(3*Math.random()),a=0;a<o;a++){var s=new THREE.Mesh(e,t);s.position.x=15*a,s.position.y=10*Math.random(),s.position.z=10*Math.random(),s.rotation.z=Math.random()*Math.PI*2,s.rotation.y=Math.random()*Math.PI*2;var n=.1+.9*Math.random();s.scale.set(n,n,n),this.mesh.add(s)}},Sky=function(){this.mesh=new THREE.Object3D,this.nClouds=25;for(var e=2*Math.PI/this.nClouds,t=0;t<this.nClouds;t++){var o=new Cloud,a=e*t,s=800+200*Math.random();o.mesh.position.y=Math.sin(a)*s,o.mesh.position.x=Math.cos(a)*s,o.mesh.rotation.z=a+Math.PI/2,o.mesh.position.z=-400-400*Math.random();var n=1+2*Math.random();o.mesh.scale.set(n,n,n),this.mesh.add(o.mesh)}},Tree=function(){this.mesh=new THREE.Object3D;var e=new THREE.MeshPhongMaterial({color:l,shading:THREE.FlatShading}),t=new THREE.BoxGeometry(10,20,10),o=new THREE.MeshBasicMaterial({color:w}),a=new THREE.Mesh(t,o);a.castShadow=!0,a.receiveShadow=!0,this.mesh.add(a);var s=new THREE.CylinderGeometry(1,36,36,4),n=new THREE.Mesh(s,e);n.castShadow=!0,n.receiveShadow=!0,n.position.y=20,this.mesh.add(n);var i=new THREE.CylinderGeometry(1,27,27,4),h=new THREE.Mesh(i,e);h.castShadow=!0,h.position.y=40,h.receiveShadow=!0,this.mesh.add(h);var r=new THREE.CylinderGeometry(1,18,18,4),d=new THREE.Mesh(r,e);d.castShadow=!0,d.position.y=55,d.receiveShadow=!0,this.mesh.add(d)},Flower=function(){this.mesh=new THREE.Object3D;var e=new THREE.BoxGeometry(5,50,5,1,1,1),t=new THREE.MeshPhongMaterial({color:l,shading:THREE.FlatShading}),o=new THREE.Mesh(e,t);o.castShadow=!1,o.receiveShadow=!0,this.mesh.add(o);var a=new THREE.BoxGeometry(10,10,10,1,1,1),s=new THREE.MeshPhongMaterial({color:E,shading:THREE.FlatShading});petalCore=new THREE.Mesh(a,s),petalCore.castShadow=!1,petalCore.receiveShadow=!0;var n=M[Math.floor(3*Math.random())],i=new THREE.BoxGeometry(15,20,5,1,1,1),h=new THREE.MeshBasicMaterial({color:n});i.vertices[5].y-=4,i.vertices[4].y-=4,i.vertices[7].y+=4,i.vertices[6].y+=4,i.translate(12.5,0,3);for(var r=[],d=0;d<4;d++)r[d]=new THREE.Mesh(i,h),r[d].rotation.z=d*Math.PI/2,r[d].castShadow=!0,r[d].receiveShadow=!0;petalCore.add(r[0],r[1],r[2],r[3]),petalCore.position.y=25,petalCore.position.z=3,this.mesh.add(petalCore)};var M=[d,E,6865856];Forest=function(){this.mesh=new THREE.Object3D,this.nTrees=300;for(var e=2*Math.PI/this.nTrees,t=0;t<this.nTrees;t++){var o=new Tree,a=e*t,s=605;o.mesh.position.y=Math.sin(a)*s,o.mesh.position.x=Math.cos(a)*s,o.mesh.rotation.z=a+Math.PI/2*3,o.mesh.position.z=0-600*Math.random();var n=.3+.75*Math.random();o.mesh.scale.set(n,n,n),this.mesh.add(o.mesh)}this.nFlowers=350;for(e=2*Math.PI/this.nFlowers,t=0;t<this.nFlowers;t++){var i=new Flower;a=e*t,s=605;i.mesh.position.y=Math.sin(a)*s,i.mesh.position.x=Math.cos(a)*s,i.mesh.rotation.z=a+Math.PI/2*3,i.mesh.position.z=0-600*Math.random();n=.1+.3*Math.random();i.mesh.scale.set(n,n,n),this.mesh.add(i.mesh)}};var v,H,R,y,g,S,u=function(){this.mesh=new THREE.Object3D;var e=new THREE.BoxGeometry(80,50,50,1,1,1),t=new THREE.MeshPhongMaterial({color:d,shading:THREE.FlatShading});e.vertices[4].y-=10,e.vertices[4].z+=20,e.vertices[5].y-=10,e.vertices[5].z-=20,e.vertices[6].y+=30,e.vertices[6].z+=20,e.vertices[7].y+=30,e.vertices[7].z-=20;var o=new THREE.Mesh(e,t);o.castShadow=!0,o.receiveShadow=!0,this.mesh.add(o);var a=new THREE.BoxGeometry(20,50,50,1,1,1),s=new THREE.MeshPhongMaterial({color:c,shading:THREE.FlatShading}),n=new THREE.Mesh(a,s);n.position.x=40,n.castShadow=!0,n.receiveShadow=!0,this.mesh.add(n);var i=new THREE.BoxGeometry(15,20,5,1,1,1),h=new THREE.MeshPhongMaterial({color:d,shading:THREE.FlatShading}),r=new THREE.Mesh(i,h);r.position.set(-35,25,0),r.castShadow=!0,r.receiveShadow=!0,this.mesh.add(r);var E=new THREE.BoxGeometry(40,4,150,1,1,1),l=new THREE.MeshPhongMaterial({color:d,shading:THREE.FlatShading}),p=new THREE.Mesh(E,l),T=new THREE.Mesh(E,l);p.castShadow=!0,p.receiveShadow=!0,T.castShadow=!0,T.receiveShadow=!0,p.position.set(20,12,0),T.position.set(20,-3,0),this.mesh.add(p),this.mesh.add(T);var M=new THREE.BoxGeometry(3,15,20,1,1,1),v=new THREE.MeshPhongMaterial({color:c,transparent:!0,opacity:.3,shading:THREE.FlatShading}),H=new THREE.Mesh(M,v);H.position.set(5,27,0),H.castShadow=!0,H.receiveShadow=!0,this.mesh.add(H);var R=new THREE.BoxGeometry(20,10,10,1,1,1);R.vertices[4].y-=5,R.vertices[4].z+=5,R.vertices[5].y-=5,R.vertices[5].z-=5,R.vertices[6].y+=5,R.vertices[6].z+=5,R.vertices[7].y+=5,R.vertices[7].z-=5;var y=new THREE.MeshPhongMaterial({color:w,shading:THREE.FlatShading});this.propeller=new THREE.Mesh(R,y),this.propeller.castShadow=!0,this.propeller.receiveShadow=!0;var g=new THREE.BoxGeometry(1,100,10,1,1,1),S=new THREE.BoxGeometry(1,10,100,1,1,1),u=new THREE.MeshPhongMaterial({color:m,shading:THREE.FlatShading}),f=new THREE.Mesh(g,u);f.position.set(8,0,0),f.castShadow=!0,f.receiveShadow=!0;var x=new THREE.Mesh(S,u);x.position.set(8,0,0),x.castShadow=!0,x.receiveShadow=!0,this.propeller.add(f,x),this.propeller.position.set(50,0,0),this.mesh.add(this.propeller);var z=new THREE.BoxGeometry(30,15,10,1,1,1),P=new THREE.MeshPhongMaterial({color:c,shading:THREE.FlatShading}),F=new THREE.Mesh(z,P);F.position.set(25,-20,25),this.mesh.add(F);var b=new THREE.BoxGeometry(24,24,4),j=new THREE.MeshPhongMaterial({color:m,shading:THREE.FlatShading}),G=new THREE.Mesh(b,j);G.position.set(25,-28,25);var B=new THREE.BoxGeometry(10,10,6),C=new THREE.MeshPhongMaterial({color:w,shading:THREE.FlatShading}),O=new THREE.Mesh(B,C);G.add(O),this.mesh.add(G);var I=F.clone();I.position.z=-F.position.z,this.mesh.add(I);var D=G.clone();D.position.z=-G.position.z,this.mesh.add(D);var L=G.clone();L.scale.set(.5,.5,.5),L.position.set(-35,-5,0),this.mesh.add(L);var k=new THREE.BoxGeometry(4,20,4);k.applyMatrix((new THREE.Matrix4).makeTranslation(0,10,0));var W=new THREE.MeshPhongMaterial({color:d,shading:THREE.FlatShading}),J=new THREE.Mesh(k,W);J.position.set(-35,-5,0),J.rotation.z=-.3,this.mesh.add(J)},f={x:0,y:0},x=-600;function z(e,t,o,a,s){return a+(Math.max(Math.min(e,o),t)-t)/(o-t)*(s-a)}function P(){R.mesh.rotation.z+=.005,y.mesh.rotation.z+=.001,v.mesh.rotation.z+=.003,H.mesh.rotation.z+=.005,function(){var e=z(f.y,-.75,.75,50,190),t=z(f.x,-.75,.75,-100,-20);g.mesh.position.y+=.1*(e-g.mesh.position.y),g.mesh.position.x+=.1*(t-g.mesh.position.x),g.mesh.rotation.z=.0128*(e-g.mesh.position.y),g.mesh.rotation.x=.0064*(g.mesh.position.y-e),g.mesh.rotation.y=.0064*(g.mesh.position.x-t),g.propeller.rotation.x+=.3}(),h.render(o,a),requestAnimationFrame(P)}function F(e){var t=e.clientX/i*2-1,o=1-e.clientY/n*2;f={x:t,y:o}}n=window.innerHeight,i=window.innerWidth,(o=new THREE.Scene).fog=new THREE.Fog(16243114,100,950),s=i/n,(a=new THREE.PerspectiveCamera(60,s,1,1e4)).position.x=0,a.position.y=150,a.position.z=100,(h=new THREE.WebGLRenderer({alpha:!0,antialias:!0})).setSize(i,n),h.shadowMap.enabled=!0,document.getElementById("world").appendChild(h.domElement),window.addEventListener("resize",T,!1),hemisphereLight=new THREE.HemisphereLight(11184810,0,.9),(r=new THREE.DirectionalLight(16777215,.9)).position.set(0,350,350),r.castShadow=!0,r.shadow.camera.left=-650,r.shadow.camera.right=650,r.shadow.camera.top=650,r.shadow.camera.bottom=-650,r.shadow.camera.near=1,r.shadow.camera.far=1e3,r.shadow.mapSize.width=2048,r.shadow.mapSize.height=2048,o.add(hemisphereLight),o.add(r),(g=new u).mesh.scale.set(.35,.35,.35),g.mesh.position.set(-40,110,-250),o.add(g.mesh),(y=new Orbit).mesh.position.y=x,y.mesh.rotation.z=-Math.PI/6,o.add(y.mesh),(S=new Sun).mesh.scale.set(1,1,.3),S.mesh.position.set(0,-30,-850),o.add(S.mesh),(R=new Land).mesh.position.y=x,o.add(R.mesh),(H=new Forest).mesh.position.y=x,o.add(H.mesh),(v=new Sky).mesh.position.y=x,o.add(v.mesh),document.addEventListener("mousemove",F,!1),P(),console.log("init")}}]);
//# sourceMappingURL=19.7e23db30.chunk.js.map