(this["webpackJsonp@mozg/react-workspace"]=this["webpackJsonp@mozg/react-workspace"]||[]).push([[18],{360:function(t,e,o){"use strict";o.r(e);var a=o(109),s=o.n(a),i=o(110),n=o(38),h=o(8),r=(o(361),o(3));e.default=function(t){t.greeting,t.name;var e={};function a(t){if(!e[t]){var o=document.createElement("script");return o.type="text/javascript",o.addEventListener("load",(function(t){console.log("script loaded: ",t)})),o.src=t,document.getElementsByTagName("head")[0].appendChild(o),e[t]=!0,e}}var p=Object(h.useState)(0),d=Object(n.a)(p,2),w=d[0];return d[1],Object(h.useEffect)((function(){!function(){function t(t){return e.apply(this,arguments)}function e(){return(e=Object(i.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a(e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t("https://cdnjs.cloudflare.com/ajax/libs/three.js/r80/three.js").then((function(e){console.log("ret: ",e),setTimeout((function(){var e=["https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js","https://s3-us-west-2.amazonaws.com/s.cdpn.io/264161/OrbitControls.js"];console.log(" itens.length: ".concat(e.length," ")),e.forEach((function(a,s){console.log("index: ".concat(s," - item: "),a),t(a).then((function(t){s===e.length-1&&(console.log("script"),setTimeout((function(){o(362)}),1e3))})).catch(console.error)}))}),500)})).catch(console.error)}()}),[w]),Object(r.jsxs)("div",{className:"valorous-rabbit",children:[Object(r.jsx)("div",{id:"world"}),Object(r.jsx)("div",{id:"gameoverInstructions",children:"Game Over"}),Object(r.jsxs)("div",{id:"dist",children:[Object(r.jsx)("div",{className:"label",children:"distance"}),Object(r.jsx)("div",{id:"distValue",children:"000"})]}),Object(r.jsxs)("div",{id:"instructions",children:["Click to jump",Object(r.jsxs)("span",{className:"lightInstructions",children:[" ","\u2014 Grab the carrots / avoid the hedgehogs"]})]}),Object(r.jsx)("div",{id:"credits",children:Object(r.jsxs)("p",{children:[Object(r.jsx)("a",{href:"https://codepen.io/Yakudoo/",target:"blank",children:"other codepens"})," ","|"," ",Object(r.jsx)("a",{href:"https://www.epic.net",target:"blank",children:"epic.net"})]})})]})}},361:function(t,e,o){},362:function(t,e){var o,a,s,i,n,h,r,p,d,w,c,M,l=0,y=200,m=6,E=0,x=.65,u=.65,T=0,R="play",H=11815737,v=(new Audio("https://s3-us-west-2.amazonaws.com/s.cdpn.io/264161/Antonio-Vivaldi-Summer_01.mp3"),new THREE.MeshPhongMaterial({color:1050375,shading:THREE.FlatShading})),P=new THREE.MeshPhongMaterial({color:11815737,shininess:0,shading:THREE.FlatShading}),b=new THREE.MeshPhongMaterial({color:8044430,shininess:0,shading:THREE.FlatShading}),L=new THREE.MeshPhongMaterial({color:14442309,shininess:0,shading:THREE.FlatShading}),f=new THREE.MeshPhongMaterial({color:14711383,shading:THREE.FlatShading}),I=new THREE.MeshPhongMaterial({color:10786697,shading:THREE.FlatShading});new THREE.MeshPhongMaterial({color:16752293,shading:THREE.FlatShading}),Math.PI;function g(){w=window.innerHeight,c=window.innerWidth,c/2,w/2,n.setSize(c,w),a.aspect=c/w,a.updateProjectionMatrix()}function z(t){"play"==R?M.jump():"readyToReplay"==R&&(R="preparingToReplay",p.className="",TweenMax.killTweensOf(monster.pawFL.position),TweenMax.killTweensOf(monster.pawFR.position),TweenMax.killTweensOf(monster.pawBL.position),TweenMax.killTweensOf(monster.pawBR.position),TweenMax.killTweensOf(monster.pawFL.rotation),TweenMax.killTweensOf(monster.pawFR.rotation),TweenMax.killTweensOf(monster.pawBL.rotation),TweenMax.killTweensOf(monster.pawBR.rotation),TweenMax.killTweensOf(monster.tail.rotation),TweenMax.killTweensOf(monster.head.rotation),TweenMax.killTweensOf(monster.eyeL.scale),TweenMax.killTweensOf(monster.eyeR.scale),monster.tail.rotation.y=0,TweenMax.to(a.position,3,{z:160,x:0,y:30,ease:Power4.easeInOut}),TweenMax.to(monster.torso.rotation,2,{x:0,ease:Power4.easeInOut}),TweenMax.to(monster.torso.position,2,{y:0,ease:Power4.easeInOut}),TweenMax.to(monster.pawFL.rotation,2,{x:0,ease:Power4.easeInOut}),TweenMax.to(monster.pawFR.rotation,2,{x:0,ease:Power4.easeInOut}),TweenMax.to(monster.mouth.rotation,2,{x:.5,ease:Power4.easeInOut}),TweenMax.to(monster.head.rotation,2,{y:0,x:-.3,ease:Power4.easeInOut}),TweenMax.to(M.mesh.position,2,{x:20,ease:Power4.easeInOut}),TweenMax.to(M.head.rotation,2,{x:0,y:0,ease:Power4.easeInOut}),TweenMax.to(monster.mouth.rotation,2,{x:.2,ease:Power4.easeInOut}),TweenMax.to(monster.mouth.rotation,1,{x:.4,ease:Power4.easeIn,delay:1,onComplete:function(){S()}}))}function O(t){t.visible=!1}function C(){monster.run(),(x+=((u-=.004*l)-x)*l)<.56&&function(){p.className="show",R="gameOver",monster.sit(),M.hang(),monster.heroHolder.add(M.mesh),TweenMax.to(this,1,{speed:0}),TweenMax.to(a.position,3,{z:260,y:60,x:-30}),carrot.mesh.visible=!1,obstacle.mesh.visible=!1,clearInterval(r)}();var t=Math.PI*x;monster.mesh.position.y=212*Math.sin(t)-200,monster.mesh.position.x=215*Math.cos(t),monster.mesh.rotation.z=-Math.PI/2+t}Hero=function(){this.status="running",this.runningCycle=0,this.mesh=new THREE.Group,this.body=new THREE.Group,this.mesh.add(this.body);var t=new THREE.CubeGeometry(7,7,10,1);this.torso=new THREE.Mesh(t,P),this.torso.position.z=0,this.torso.position.y=7,this.torso.castShadow=!0,this.body.add(this.torso);var e=new THREE.CubeGeometry(9,9,5,1);this.pants=new THREE.Mesh(e,I),this.pants.position.z=-3,this.pants.position.y=0,this.pants.castShadow=!0,this.torso.add(this.pants);var o=new THREE.CubeGeometry(3,3,3,1);o.applyMatrix((new THREE.Matrix4).makeTranslation(0,0,-2)),this.tail=new THREE.Mesh(o,f),this.tail.position.z=-4,this.tail.position.y=5,this.tail.castShadow=!0,this.torso.add(this.tail),this.torso.rotation.x=-Math.PI/8;var a=new THREE.CubeGeometry(10,10,13,1);a.applyMatrix((new THREE.Matrix4).makeTranslation(0,0,7.5)),this.head=new THREE.Mesh(a,P),this.head.position.z=2,this.head.position.y=11,this.head.castShadow=!0,this.body.add(this.head);var s=new THREE.CubeGeometry(1,4,4,1);this.cheekR=new THREE.Mesh(s,L),this.cheekR.position.x=-5,this.cheekR.position.z=7,this.cheekR.position.y=-2.5,this.cheekR.castShadow=!0,this.head.add(this.cheekR),this.cheekL=this.cheekR.clone(),this.cheekL.position.x=-this.cheekR.position.x,this.head.add(this.cheekL);var i=new THREE.CubeGeometry(6,6,3,1);this.nose=new THREE.Mesh(i,f),this.nose.position.z=13.5,this.nose.position.y=2.6,this.nose.castShadow=!0,this.head.add(this.nose);var n=new THREE.CubeGeometry(4,2,4,1);n.applyMatrix((new THREE.Matrix4).makeTranslation(0,0,3)),n.applyMatrix((new THREE.Matrix4).makeRotationX(Math.PI/12)),this.mouth=new THREE.Mesh(n,P),this.mouth.position.z=8,this.mouth.position.y=-4,this.mouth.castShadow=!0,this.head.add(this.mouth);var h=new THREE.CubeGeometry(3,3,3,1);this.pawFR=new THREE.Mesh(h,f),this.pawFR.position.x=-2,this.pawFR.position.z=6,this.pawFR.position.y=1.5,this.pawFR.castShadow=!0,this.body.add(this.pawFR),this.pawFL=this.pawFR.clone(),this.pawFL.position.x=-this.pawFR.position.x,this.pawFL.castShadow=!0,this.body.add(this.pawFL);var r=new THREE.CubeGeometry(3,3,6,1);this.pawBL=new THREE.Mesh(r,f),this.pawBL.position.y=1.5,this.pawBL.position.z=0,this.pawBL.position.x=5,this.pawBL.castShadow=!0,this.body.add(this.pawBL),this.pawBR=this.pawBL.clone(),this.pawBR.position.x=-this.pawBL.position.x,this.pawBR.castShadow=!0,this.body.add(this.pawBR);var p=new THREE.CubeGeometry(7,18,2,1);p.vertices[6].x+=2,p.vertices[6].z+=.5,p.vertices[7].x+=2,p.vertices[7].z-=.5,p.vertices[2].x-=2,p.vertices[2].z-=.5,p.vertices[3].x-=2,p.vertices[3].z+=.5,p.applyMatrix((new THREE.Matrix4).makeTranslation(0,9,0)),this.earL=new THREE.Mesh(p,P),this.earL.position.x=2,this.earL.position.z=2.5,this.earL.position.y=5,this.earL.rotation.z=-Math.PI/12,this.earL.castShadow=!0,this.head.add(this.earL),this.earR=this.earL.clone(),this.earR.position.x=-this.earL.position.x,this.earR.rotation.z=-this.earL.rotation.z,this.earR.castShadow=!0,this.head.add(this.earR);var d=new THREE.CubeGeometry(2,4,4);this.eyeL=new THREE.Mesh(d,I),this.eyeL.position.x=5,this.eyeL.position.z=5.5,this.eyeL.position.y=2.9,this.eyeL.castShadow=!0,this.head.add(this.eyeL);var w=new THREE.CubeGeometry(.6,2,2);this.iris=new THREE.Mesh(w,v),this.iris.position.x=1.2,this.iris.position.y=1,this.iris.position.z=1,this.eyeL.add(this.iris),this.eyeR=this.eyeL.clone(),this.eyeR.children[0].position.x=-this.iris.position.x,this.eyeR.position.x=-this.eyeL.position.x,this.head.add(this.eyeR),this.body.traverse((function(t){t instanceof THREE.Mesh&&(t.castShadow=!0,t.receiveShadow=!0)}))},BonusParticles=function(){this.mesh=new THREE.Group;var t=new THREE.CubeGeometry(10,10,10,1),e=new THREE.CubeGeometry(5,5,5,1);this.parts=[];for(var o=0;o<10;o++){var a=new THREE.Mesh(t,L),s=new THREE.Mesh(e,b);s.scale.set(.5,.5,.5),this.parts.push(a),this.parts.push(s),this.mesh.add(a),this.mesh.add(s)}},BonusParticles.prototype.explose=function(){for(var t=0;t<this.parts.length;t++){var e=100*Math.random()-50,o=100*Math.random()-50,a=100*Math.random()-50,s=this.parts[t];s.position.set(0,0,0),s.scale.set(1,1,1),s.visible=!0;var i=.5+.5*Math.random();TweenMax.to(s.position,i,{x:e,y:o,z:a,ease:Power4.easeOut}),TweenMax.to(s.scale,i,{x:.01,y:.01,z:.01,ease:Power4.easeOut,onComplete:O,onCompleteParams:[s]})}},Hero.prototype.run=function(){this.status="running";var t=Math.min(m,48);this.runningCycle+=l*t*.7,this.runningCycle=this.runningCycle%(2*Math.PI);var e=this.runningCycle;this.body.position.y=6+4*Math.sin(e-Math.PI/2),this.body.rotation.x=.2+4*Math.sin(e-Math.PI/2)*.1,this.torso.rotation.x=4*Math.sin(e-Math.PI/2)*.1,this.torso.position.y=7+4*Math.sin(e-Math.PI/2)*.5,this.mouth.rotation.x=Math.PI/16+4*Math.cos(e)*.05,this.head.position.z=2+4*Math.sin(e-Math.PI/2)*.5,this.head.position.y=8+4*Math.cos(e-Math.PI/2)*.7,this.head.rotation.x=4*Math.sin(e+Math.PI)*.1-.2,this.earL.rotation.x=.8*Math.cos(-Math.PI/2+e),this.earR.rotation.x=1.2*Math.cos(-Math.PI/2+.2+e),this.eyeR.scale.y=this.eyeL.scale.y=.7+.6*Math.abs(Math.cos(-Math.PI/4+.5*e)),this.tail.rotation.x=4*Math.cos(Math.PI/2+e)*.3,this.pawFR.position.y=1.5+4*Math.sin(e),this.pawFR.rotation.x=Math.cos(e)*Math.PI/4,this.pawFR.position.z=6-4*Math.cos(e)*2,this.pawFL.position.y=1.5+4*Math.sin(.2+e),this.pawFL.rotation.x=Math.cos(e)*Math.PI/4,this.pawFL.position.z=6-4*Math.cos(.2+e)*2,this.pawBR.position.y=1.5+4*Math.sin(Math.PI+e),this.pawBR.rotation.x=Math.cos(e+1.5*Math.PI)*Math.PI/3,this.pawBR.position.z=4*-Math.cos(Math.PI+e),this.pawBL.position.y=1.5+4*Math.sin(Math.PI+e),this.pawBL.rotation.x=Math.cos(e+1.5*Math.PI)*Math.PI/3,this.pawBL.position.z=4*-Math.cos(Math.PI+e)},Hero.prototype.jump=function(){if("jumping"!=this.status){this.status="jumping";var t=this,e=10/m;TweenMax.to(this.earL.rotation,e,{x:"+=.3",ease:Back.easeOut}),TweenMax.to(this.earR.rotation,e,{x:"-=.3",ease:Back.easeOut}),TweenMax.to(this.pawFL.rotation,e,{x:"+=.7",ease:Back.easeOut}),TweenMax.to(this.pawFR.rotation,e,{x:"-=.7",ease:Back.easeOut}),TweenMax.to(this.pawBL.rotation,e,{x:"+=.7",ease:Back.easeOut}),TweenMax.to(this.pawBR.rotation,e,{x:"-=.7",ease:Back.easeOut}),TweenMax.to(this.tail.rotation,e,{x:"+=1",ease:Back.easeOut}),TweenMax.to(this.mouth.rotation,e,{x:.5,ease:Back.easeOut}),TweenMax.to(this.mesh.position,e/2,{y:45,ease:Power2.easeOut}),TweenMax.to(this.mesh.position,e/2,{y:0,ease:Power4.easeIn,delay:e/2,onComplete:function(){t.status="running"}})}},Monster=function(){this.runningCycle=0,this.mesh=new THREE.Group,this.body=new THREE.Group;var t=new THREE.CubeGeometry(15,15,20,1);this.torso=new THREE.Mesh(t,v);var e=new THREE.CubeGeometry(20,20,40,1);e.applyMatrix((new THREE.Matrix4).makeTranslation(0,0,20)),this.head=new THREE.Mesh(e,v),this.head.position.z=12,this.head.position.y=2;var o=new THREE.CubeGeometry(10,4,20,1);o.applyMatrix((new THREE.Matrix4).makeTranslation(0,-2,10)),this.mouth=new THREE.Mesh(o,v),this.mouth.position.y=-8,this.mouth.rotation.x=.4,this.mouth.position.z=4,this.heroHolder=new THREE.Group,this.heroHolder.position.z=20,this.mouth.add(this.heroHolder);var a=new THREE.CubeGeometry(2,2,1,1);a.vertices[1].x-=1,a.vertices[4].x+=1,a.vertices[5].x+=1,a.vertices[0].x-=1;for(var s=0;s<3;s++){var i=new THREE.Mesh(a,I);i.position.x=2.5*s-2.8,i.position.y=1,i.position.z=19;var n=new THREE.Mesh(a,I);n.rotation.y=Math.PI/2,n.position.z=12+2.5*s,n.position.y=1,n.position.x=4;var h=n.clone();n.position.x=-4,this.mouth.add(i),this.mouth.add(n),this.mouth.add(h)}var r=new THREE.CubeGeometry(6,1,14);r.applyMatrix((new THREE.Matrix4).makeTranslation(0,0,7)),this.tongue=new THREE.Mesh(r,L),this.tongue.position.z=2,this.tongue.rotation.x=-.2,this.mouth.add(this.tongue);var p=new THREE.CubeGeometry(4,4,4,1);this.nose=new THREE.Mesh(p,L),this.nose.position.z=39.5,this.nose.position.y=9,this.head.add(this.nose),this.head.add(this.mouth);var d=new THREE.CubeGeometry(2,3,3);this.eyeL=new THREE.Mesh(d,I),this.eyeL.position.x=10,this.eyeL.position.z=5,this.eyeL.position.y=5,this.eyeL.castShadow=!0,this.head.add(this.eyeL);var w=new THREE.CubeGeometry(.6,1,1);this.iris=new THREE.Mesh(w,v),this.iris.position.x=1.2,this.iris.position.y=-1,this.iris.position.z=1,this.eyeL.add(this.iris),this.eyeR=this.eyeL.clone(),this.eyeR.children[0].position.x=-this.iris.position.x,this.eyeR.position.x=-this.eyeL.position.x,this.head.add(this.eyeR);var c=new THREE.CubeGeometry(8,6,2,1);c.vertices[1].x-=4,c.vertices[4].x+=4,c.vertices[5].x+=4,c.vertices[5].z-=2,c.vertices[0].x-=4,c.vertices[0].z-=2,c.applyMatrix((new THREE.Matrix4).makeTranslation(0,3,0)),this.earL=new THREE.Mesh(c,v),this.earL.position.x=6,this.earL.position.z=1,this.earL.position.y=10,this.earL.castShadow=!0,this.head.add(this.earL),this.earR=this.earL.clone(),this.earR.position.x=-this.earL.position.x,this.earR.rotation.z=-this.earL.rotation.z,this.head.add(this.earR);d=new THREE.CubeGeometry(2,4,4);var M=new THREE.CylinderGeometry(5,2,20,4,1);M.applyMatrix((new THREE.Matrix4).makeTranslation(0,10,0)),M.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2)),M.applyMatrix((new THREE.Matrix4).makeRotationZ(Math.PI/4)),this.tail=new THREE.Mesh(M,v),this.tail.position.z=-10,this.tail.position.y=4,this.torso.add(this.tail);var l=new THREE.CylinderGeometry(1.5,0,10);l.applyMatrix((new THREE.Matrix4).makeTranslation(0,-5,0)),this.pawFL=new THREE.Mesh(l,v),this.pawFL.position.y=-7.5,this.pawFL.position.z=8.5,this.pawFL.position.x=5.5,this.torso.add(this.pawFL),this.pawFR=this.pawFL.clone(),this.pawFR.position.x=-this.pawFL.position.x,this.torso.add(this.pawFR),this.pawBR=this.pawFR.clone(),this.pawBR.position.z=-this.pawFL.position.z,this.torso.add(this.pawBR),this.pawBL=this.pawBR.clone(),this.pawBL.position.x=this.pawFL.position.x,this.torso.add(this.pawBL),this.mesh.add(this.body),this.torso.add(this.head),this.body.add(this.torso),this.torso.castShadow=!0,this.head.castShadow=!0,this.pawFL.castShadow=!0,this.pawFR.castShadow=!0,this.pawBL.castShadow=!0,this.pawBR.castShadow=!0,this.body.rotation.y=Math.PI/2},Monster.prototype.run=function(){var t=Math.min(m,48);this.runningCycle+=l*t*.7,this.runningCycle=this.runningCycle%(2*Math.PI);var e=this.runningCycle;this.pawFR.rotation.x=Math.sin(e)*Math.PI/4,this.pawFR.position.y=-5.5-Math.sin(e),this.pawFR.position.z=7.5+Math.cos(e),this.pawFL.rotation.x=Math.sin(e+.4)*Math.PI/4,this.pawFL.position.y=-5.5-Math.sin(e+.4),this.pawFL.position.z=7.5+Math.cos(e+.4),this.pawBL.rotation.x=Math.sin(e+2)*Math.PI/4,this.pawBL.position.y=-5.5-Math.sin(e+3.8),this.pawBL.position.z=-7.5+Math.cos(e+3.8),this.pawBR.rotation.x=Math.sin(e+2.4)*Math.PI/4,this.pawBR.position.y=-5.5-Math.sin(e+3.4),this.pawBR.position.z=-7.5+Math.cos(e+3.4),this.torso.rotation.x=Math.sin(e)*Math.PI/8,this.torso.position.y=3-3*Math.sin(e+Math.PI/2),this.head.rotation.x=.4*Math.sin(-e-1)-.1,this.mouth.rotation.x=.2+.4*Math.sin(e+Math.PI+.3),this.tail.rotation.x=.2+Math.sin(e-Math.PI/2),this.eyeR.scale.y=.5+.5*Math.sin(e+Math.PI)},Hero.prototype.nod=function(){var t=this,e=.5+Math.random(),o=-Math.PI/6+Math.random()*Math.PI/3;TweenMax.to(this.head.rotation,e,{y:o,ease:Power4.easeInOut,onComplete:function(){t.nod()}});var a=Math.PI/4+Math.random()*Math.PI/6,s=Math.PI/4+Math.random()*Math.PI/6;TweenMax.to(this.earL.rotation,e,{x:a,ease:Power4.easeInOut}),TweenMax.to(this.earR.rotation,e,{x:s,ease:Power4.easeInOut});var i=Math.random()*Math.PI/2,n=8*Math.random()-4;TweenMax.to(this.pawBL.rotation,e/2,{x:i,ease:Power1.easeInOut,yoyo:!0,repeat:2}),TweenMax.to(this.pawBL.position,e/2,{y:n,ease:Power1.easeInOut,yoyo:!0,repeat:2});var h=Math.random()*Math.PI/2,r=8*Math.random()-4;TweenMax.to(this.pawBR.rotation,e/2,{x:h,ease:Power1.easeInOut,yoyo:!0,repeat:2}),TweenMax.to(this.pawBR.position,e/2,{y:r,ease:Power1.easeInOut,yoyo:!0,repeat:2});var p=Math.random()*Math.PI/2,d=8*Math.random()-4;TweenMax.to(this.pawFL.rotation,e/2,{x:p,ease:Power1.easeInOut,yoyo:!0,repeat:2}),TweenMax.to(this.pawFL.position,e/2,{y:d,ease:Power1.easeInOut,yoyo:!0,repeat:2});var w=Math.random()*Math.PI/2,c=8*Math.random()-4;TweenMax.to(this.pawFR.rotation,e/2,{x:w,ease:Power1.easeInOut,yoyo:!0,repeat:2}),TweenMax.to(this.pawFR.position,e/2,{y:c,ease:Power1.easeInOut,yoyo:!0,repeat:2});var M=Math.random()*Math.PI/8;TweenMax.to(this.mouth.rotation,e,{x:M,ease:Power1.easeInOut});var l=2*Math.random()-1,y=2*Math.random()-1,m=this.iris,E=this.eyeR.children[0];TweenMax.to([m.position,E.position],e,{y:l,z:y,ease:Power1.easeInOut}),Math.random()>.2&&TweenMax.to([this.eyeR.scale,this.eyeL.scale],e/8,{y:0,ease:Power1.easeInOut,yoyo:!0,repeat:1})},Hero.prototype.hang=function(){var t=this,e=Power4.easeOut;TweenMax.killTweensOf(this.eyeL.scale),TweenMax.killTweensOf(this.eyeR.scale),this.body.rotation.x=0,this.torso.rotation.x=0,this.body.position.y=0,this.torso.position.y=7,TweenMax.to(this.mesh.rotation,1,{y:0,ease:e}),TweenMax.to(this.mesh.position,1,{y:-7,z:6,ease:e}),TweenMax.to(this.head.rotation,1,{x:Math.PI/6,ease:e,onComplete:function(){t.nod()}}),TweenMax.to(this.earL.rotation,1,{x:Math.PI/3,ease:e}),TweenMax.to(this.earR.rotation,1,{x:Math.PI/3,ease:e}),TweenMax.to(this.pawFL.position,1,{y:-1,z:3,ease:e}),TweenMax.to(this.pawFR.position,1,{y:-1,z:3,ease:e}),TweenMax.to(this.pawBL.position,1,{y:-2,z:-3,ease:e}),TweenMax.to(this.pawBR.position,1,{y:-2,z:-3,ease:e}),TweenMax.to(this.eyeL.scale,1,{y:1,ease:e}),TweenMax.to(this.eyeR.scale,1,{y:1,ease:e})},Monster.prototype.nod=function(){var t=this,e=1+2*Math.random(),o=-Math.PI/3+.5*Math.random(),a=Math.PI/3-.2+.4*Math.random();TweenMax.to(this.head.rotation,e,{x:a,y:o,ease:Power4.easeInOut,onComplete:function(){t.nod()}});var s=-Math.PI/4;TweenMax.to(this.tail.rotation,e/8,{y:s,ease:Power1.easeInOut,yoyo:!0,repeat:8}),TweenMax.to([this.eyeR.scale,this.eyeL.scale],e/20,{y:0,ease:Power1.easeInOut,yoyo:!0,repeat:1})},Monster.prototype.sit=function(){var t=1.2,e=Power4.easeOut,o=this;TweenMax.to(this.torso.rotation,t,{x:-1.3,ease:e}),TweenMax.to(this.torso.position,t,{y:-5,ease:e,onComplete:function(){o.nod(),R="readyToReplay"}}),TweenMax.to(this.head.rotation,t,{x:Math.PI/3,y:-Math.PI/3,ease:e}),TweenMax.to(this.tail.rotation,t,{x:2,y:Math.PI/4,ease:e}),TweenMax.to(this.pawBL.rotation,t,{x:-.1,ease:e}),TweenMax.to(this.pawBR.rotation,t,{x:-.1,ease:e}),TweenMax.to(this.pawFL.rotation,t,{x:1,ease:e}),TweenMax.to(this.pawFR.rotation,t,{x:1,ease:e}),TweenMax.to(this.mouth.rotation,t,{x:.3,ease:e}),TweenMax.to(this.eyeL.scale,t,{y:1,ease:e}),TweenMax.to(this.eyeR.scale,t,{y:1,ease:e})},Carrot=function(){this.angle=0,this.mesh=new THREE.Group;var t=new THREE.CylinderGeometry(5,3,10,4,1);t.vertices[8].y+=2,t.vertices[9].y-=3,this.body=new THREE.Mesh(t,L);var e=new THREE.CubeGeometry(5,10,1,1);e.applyMatrix((new THREE.Matrix4).makeTranslation(0,5,0)),e.vertices[2].x-=1,e.vertices[3].x-=1,e.vertices[6].x+=1,e.vertices[7].x+=1,this.leaf1=new THREE.Mesh(e,b),this.leaf1.position.y=7,this.leaf1.rotation.z=.3,this.leaf1.rotation.x=.2,this.leaf2=this.leaf1.clone(),this.leaf2.scale.set(1,1.3,1),this.leaf2.position.y=7,this.leaf2.rotation.z=-.3,this.leaf2.rotation.x=-.2,this.mesh.add(this.body),this.mesh.add(this.leaf1),this.mesh.add(this.leaf2),this.body.traverse((function(t){t instanceof THREE.Mesh&&(t.castShadow=!0,t.receiveShadow=!0)}))},Hedgehog=function(){this.angle=0,this.status="ready",this.mesh=new THREE.Group;var t=new THREE.CubeGeometry(6,6,6,1);this.body=new THREE.Mesh(t,v);var e=new THREE.CubeGeometry(5,5,7,1);this.head=new THREE.Mesh(e,f),this.head.position.z=6,this.head.position.y=-.5;var o=new THREE.CubeGeometry(1.5,1.5,1.5,1);this.nose=new THREE.Mesh(o,v),this.nose.position.z=4,this.nose.position.y=2;var a=new THREE.CubeGeometry(1,3,3);this.eyeL=new THREE.Mesh(a,I),this.eyeL.position.x=2.2,this.eyeL.position.z=-.5,this.eyeL.position.y=.8,this.eyeL.castShadow=!0,this.head.add(this.eyeL);var s=new THREE.CubeGeometry(.5,1,1);this.iris=new THREE.Mesh(s,v),this.iris.position.x=.5,this.iris.position.y=.8,this.iris.position.z=.8,this.eyeL.add(this.iris),this.eyeR=this.eyeL.clone(),this.eyeR.children[0].position.x=-this.iris.position.x,this.eyeR.position.x=-this.eyeL.position.x;var i=new THREE.CubeGeometry(.5,2,.5,1);i.applyMatrix((new THREE.Matrix4).makeTranslation(0,1,0));for(var n=0;n<9;n++){var h=n%3,r=Math.floor(n/3),p=new THREE.Mesh(i,v);p.rotation.x=-Math.PI/2+Math.PI/12*h-.5+Math.random(),p.position.z=-3,p.position.y=2*h-2,p.position.x=2*r-2,this.body.add(p);var d=new THREE.Mesh(i,v);d.position.y=3,d.position.x=2*h-2,d.position.z=2*r-2,d.rotation.z=Math.PI/6-Math.PI/6*h-.5+Math.random(),this.body.add(d);var w=new THREE.Mesh(i,v);w.position.x=3,w.position.y=2*h-2,w.position.z=2*r-2,w.rotation.z=-Math.PI/2+Math.PI/12*h-.5+Math.random(),this.body.add(w);var c=new THREE.Mesh(i,v);c.position.x=-3,c.position.y=2*h-2,c.position.z=2*r-2,c.rotation.z=Math.PI/2-Math.PI/12*h-.5+Math.random(),this.body.add(c)}this.head.add(this.eyeR);var M=new THREE.CubeGeometry(2,2,.5,1);this.earL=new THREE.Mesh(M,f),this.earL.position.x=2.5,this.earL.position.z=-2.5,this.earL.position.y=2.5,this.earL.rotation.z=-Math.PI/12,this.earL.castShadow=!0,this.head.add(this.earL),this.earR=this.earL.clone(),this.earR.position.x=-this.earL.position.x,this.earR.rotation.z=-this.earL.rotation.z,this.earR.castShadow=!0,this.head.add(this.earR);var l=new THREE.CubeGeometry(1,1,.5,1);this.mouth=new THREE.Mesh(l,v),this.mouth.position.z=3.5,this.mouth.position.y=-1.5,this.head.add(this.mouth),this.mesh.add(this.body),this.body.add(this.head),this.head.add(this.nose),this.mesh.traverse((function(t){t instanceof THREE.Mesh&&(t.castShadow=!0,t.receiveShadow=!0)}))},Hedgehog.prototype.nod=function(){var t=this,e=.1+.5*Math.random(),o=-Math.PI/4+Math.random()*Math.PI/2;TweenMax.to(this.head.rotation,e,{y:o,onComplete:function(){t.nod()}})},Fir=function(){var t=new THREE.CylinderGeometry(2,2,200,6,1);t.applyMatrix((new THREE.Matrix4).makeTranslation(0,100,0)),this.mesh=new THREE.Mesh(t,b),this.mesh.castShadow=!0};new THREE.Group;function F(){var t=M.mesh.position.clone().sub(carrot.mesh.position.clone()),e=M.mesh.position.clone().sub(obstacle.mesh.position.clone());t.length()<20&&(bonusParticles.mesh.position.copy(carrot.mesh.position),bonusParticles.mesh.visible=!0,bonusParticles.explose(),carrot.angle+=Math.PI/2,u+=.025),e.length()<10&&"flying"!=obstacle.status&&function(){obstacle.status="flying";var t=Math.random()>.5?-20-10*Math.random():20+5*Math.random();TweenMax.to(obstacle.mesh.position,4,{x:t,y:50*Math.random(),z:350,ease:Power4.easeOut}),TweenMax.to(obstacle.mesh.rotation,4,{x:3*Math.PI,z:3*Math.PI,y:6*Math.PI,ease:Power4.easeOut,onComplete:function(){obstacle.status="ready",obstacle.body.rotation.y=Math.random()*Math.PI*2,obstacle.angle=-T-.4*Math.random(),obstacle.angle=obstacle.angle%(2*Math.PI),obstacle.mesh.rotation.x=0,obstacle.mesh.rotation.y=0,obstacle.mesh.rotation.z=0,obstacle.mesh.position.z=0}}),u-=.04,TweenMax.from(this,.5,{malusClearAlpha:.5,onUpdate:function(){n.setClearColor(H,0)}})}()}function B(){m>=48||(m+=2)}function k(){l=h.getDelta(),T+=.03*l*m,T%=2*Math.PI,floor.rotation.z=T,"play"==R&&("running"==M.status&&M.run(),function(){var t=(E+=l*m)/2;d.innerHTML=Math.floor(t)}(),C(),carrot.mesh.rotation.y+=6*l,carrot.mesh.rotation.z=Math.PI/2-(T+carrot.angle),carrot.mesh.position.y=250*Math.sin(T+carrot.angle)-200,carrot.mesh.position.x=250*Math.cos(T+carrot.angle),"flying"!=obstacle.status&&(T+obstacle.angle>2.5&&(obstacle.angle=-T+.3*Math.random(),obstacle.body.rotation.y=Math.random()*Math.PI*2),obstacle.mesh.rotation.z=T+obstacle.angle-Math.PI/2,obstacle.mesh.position.y=203*Math.sin(T+obstacle.angle)-200,obstacle.mesh.position.x=203*Math.cos(T+obstacle.angle)),F()),n.render(o,a),requestAnimationFrame(k)}function G(t){w=window.innerHeight,c=window.innerWidth,c/2,w/2,(o=new THREE.Scene).fog=new THREE.Fog(14084838,160,350),s=c/w,50,1,2e3,(a=new THREE.PerspectiveCamera(50,s,1,2e3)).position.x=0,a.position.z=160,a.position.y=30,a.lookAt(new THREE.Vector3(0,30,0)),(n=new THREE.WebGLRenderer({alpha:!0,antialias:!0})).setPixelRatio(window.devicePixelRatio),n.setClearColor(H,0),n.setSize(c,w),n.shadowMap.enabled=!0,document.getElementById("world").appendChild(n.domElement),window.addEventListener("resize",g,!1),document.addEventListener("mousedown",z,!1),document.addEventListener("touchend",z,!1),h=new THREE.Clock,globalLight=new THREE.AmbientLight(16777215,.9),(i=new THREE.DirectionalLight(16777215,1)).position.set(-30,40,20),i.castShadow=!0,i.shadow.camera.left=-400,i.shadow.camera.right=400,i.shadow.camera.top=400,i.shadow.camera.bottom=-400,i.shadow.camera.near=1,i.shadow.camera.far=2e3,i.shadow.mapSize.width=i.shadow.mapSize.height=2048,o.add(globalLight),o.add(i),floorShadow=new THREE.Mesh(new THREE.SphereGeometry(y,50,50),new THREE.MeshPhongMaterial({color:8044430,specular:0,shininess:1,transparent:!0,opacity:.5})),floorShadow.receiveShadow=!0,floorGrass=new THREE.Mesh(new THREE.SphereGeometry(199.5,50,50),new THREE.MeshBasicMaterial({color:8044430})),floorGrass.receiveShadow=!1,floor=new THREE.Group,floor.position.y=-200,floor.add(floorShadow),floor.add(floorGrass),o.add(floor),(M=new Hero).mesh.rotation.y=Math.PI/2,o.add(M.mesh),M.nod(),monster=new Monster,monster.mesh.position.z=20,o.add(monster.mesh),C(),function(){for(var t=0;t<100;t++){var e=t*(2*Math.PI)/100,o=Math.PI/2;o+=Math.random()>.05?.25+.3*Math.random():-.35-.1*Math.random();var a=new Tree;a.mesh.position.x=Math.sin(o)*Math.cos(e)*y,a.mesh.position.y=Math.sin(o)*Math.sin(e)*190,a.mesh.position.z=Math.cos(o)*y;var s=a.mesh.position.clone(),i=new THREE.Vector3(0,1,0);a.mesh.quaternion.setFromUnitVectors(i,s.clone().normalize()),floor.add(a.mesh)}}(),carrot=new Carrot,o.add(carrot.mesh),bonusParticles=new BonusParticles,bonusParticles.mesh.visible=!1,o.add(bonusParticles.mesh),obstacle=new Hedgehog,obstacle.body.rotation.y=-Math.PI/2,obstacle.mesh.scale.set(1.1,1.1,1.1),obstacle.mesh.position.y=204,obstacle.nod(),o.add(obstacle.mesh),d=document.getElementById("distValue"),p=document.getElementById("gameoverInstructions"),S(),k()}function S(){o.add(M.mesh),M.mesh.rotation.y=Math.PI/2,M.mesh.position.y=0,M.mesh.position.z=0,M.mesh.position.x=0,x=.56,u=.65,m=5,0,E=0,carrot.mesh.visible=!0,obstacle.mesh.visible=!0,R="play",M.status="running",M.nod(),B(),r=setInterval(B,3e3)}window.addEventListener("load",G,!1),Tree=function(){this.mesh=new THREE.Object3D,this.trunc=new Trunc,this.mesh.add(this.trunc.mesh)},Trunc=function(){var t=50+150*Math.random(),e=1+5*Math.random(),o=5+5*Math.random(),a=[v,P,L,I,b,f,L],s=v,i=new THREE.CylinderGeometry(e,o,t,3,3);i.applyMatrix((new THREE.Matrix4).makeTranslation(0,t/2,0)),this.mesh=new THREE.Mesh(i,s);for(var n=0;n<i.vertices.length;n++){var h=Math.random(),r=i.vertices[n];if(r.x+=-h+Math.random()*h*2,r.y+=-h+Math.random()*h*2,r.z+=-h+Math.random()*h*2,i.computeVertexNormals(),Math.random()>.7){var p=3*Math.random(),d=new THREE.CubeGeometry(p,p,p,1),w=a[Math.floor(Math.random()*a.length)],c=new THREE.Mesh(d,w);c.position.x=r.x,c.position.y=r.y+3,c.position.z=r.z,c.rotation.x=Math.random()*Math.PI,c.rotation.y=Math.random()*Math.PI,this.mesh.add(c)}if(Math.random()>.5&&r.y>10&&r.y<t-10){var M=3+5*Math.random(),l=.2+Math.random(),y=new THREE.CylinderGeometry(l/2,l,M,3,1);y.applyMatrix((new THREE.Matrix4).makeTranslation(0,M/2,0));var m=new THREE.Mesh(y,s);m.position.x=r.x,m.position.y=r.y,m.position.z=r.z;var E=new THREE.Vector3(r.x,2,r.z),x=new THREE.Vector3(0,1,0);m.quaternion.setFromUnitVectors(x,E.clone().normalize()),this.mesh.add(m)}}this.mesh.castShadow=!0},G(),console.log("ret: ","ret")}}]);
//# sourceMappingURL=18.07099730.chunk.js.map