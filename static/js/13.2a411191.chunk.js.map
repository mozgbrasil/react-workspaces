{"version":3,"sources":["../../../node_modules/react-json-pretty/dist/JSONPretty.js","pages/JSONViewer.js"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","__importStar","mod","__esModule","result","k","PropTypes","require","React","getStyle","name","theme","styles","value","extra","style","getStyleValue","xssmap","JSONPretty","_super","render","_a","props","json","data","replacer","space","themeClassName","onJSONPrettyError","onError","silent","mainStyle","keyStyle","valueStyle","stringStyle","booleanStyle","errorStyle","rest","obj","JSON","parse","console","warn","message","createElement","dangerouslySetInnerHTML","__html","replace","m","_pretty","text","stringify","isNaN","_replace","bind","match","ind","key","val","tra","spanEnd","keySpan","valSpan","strSpan","booSpan","sps","propTypes","any","func","bool","oneOfType","number","string","object","defaultProps","Component","module","exports","WebApis","receiveMessage","event","from","document","getElementsByTagName","log","setState","state","window","postMessage","addEventListener","a","jsonData","class","id"],"mappings":"uIACA,IAAIA,EAAaC,MAAQA,KAAKD,WAAe,WACzC,IAAIE,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOV,KAAKW,YAAcT,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,IAAMO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,IAV1C,GAazCI,EAAYd,MAAQA,KAAKc,UAAa,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAIV,KADTS,EAAIG,UAAUF,GACOd,OAAOQ,UAAUH,eAAea,KAAKL,EAAGT,KACzDQ,EAAER,GAAKS,EAAET,IAEjB,OAAOQ,IAEKO,MAAMvB,KAAMoB,YAE5BI,EAAUxB,MAAQA,KAAKwB,QAAW,SAAUP,EAAGQ,GAC/C,IAAIT,EAAI,GACR,IAAK,IAAIR,KAAKS,EAAOb,OAAOQ,UAAUH,eAAea,KAAKL,EAAGT,IAAMiB,EAAEC,QAAQlB,GAAK,IAC9EQ,EAAER,GAAKS,EAAET,IACb,GAAS,MAALS,GAAqD,oBAAjCb,OAAOuB,sBACtB,KAAIT,EAAI,EAAb,IAAgBV,EAAIJ,OAAOuB,sBAAsBV,GAAIC,EAAIV,EAAEa,OAAQH,IAASO,EAAEC,QAAQlB,EAAEU,IAAM,IAC1FF,EAAER,EAAEU,IAAMD,EAAET,EAAEU,KACtB,OAAOF,GAEPY,EAAgB5B,MAAQA,KAAK4B,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAIC,WAAY,OAAOD,EAClC,IAAIE,EAAS,GACb,GAAW,MAAPF,EAAa,IAAK,IAAIG,KAAKH,EAASzB,OAAOK,eAAea,KAAKO,EAAKG,KAAID,EAAOC,GAAKH,EAAIG,IAE5F,OADAD,EAAM,QAAcF,EACbE,GAEPE,EAAYL,EAAaM,EAAQ,MACjCC,EAAQP,EAAaM,EAAQ,IAMjC,SAASE,EAASC,EAAMC,EAAOC,GAC3B,IAAIC,EANR,SAAuBH,EAAMC,EAAOC,GAChC,IAAIE,EAAQF,EAAOF,EAAO,UAAY,GAClCK,EAAQJ,GAAQA,EAAMD,IAAc,GACxC,OAAOI,EAAQA,EAAQ,IAAMC,EAAQA,EAGzBC,CAAcN,EAAMC,EAAOC,GACvC,OAAOC,EAAQ,WAAcA,EAAQ,IAAO,GAEhD,IAAII,EAAS,CACT,IAAK,SACL,IAAM,SACN,IAAK,QACL,IAAK,OACL,IAAK,OAUT,IAAIC,EAA4B,SAAUC,GAEtC,SAASD,IACL,OAAkB,OAAXC,GAAmBA,EAAOvB,MAAMvB,KAAMoB,YAAcpB,KAuF/D,OAzFAD,EAAU8C,EAAYC,GAItBD,EAAWjC,UAAUmC,OAAS,WAC1B,IAdK9B,EAcD+B,EAAKhD,KAAKiD,MAAOC,EAAOF,EAAGE,KAAMC,EAAOH,EAAGG,KAAMC,EAAWJ,EAAGI,SAAUC,EAAQL,EAAGK,MAAOC,EAAiBN,EAAGM,eAAgBhB,EAAQU,EAAGV,MAAOiB,EAAoBP,EAAGO,kBAAmBC,EAAUR,EAAGQ,QAASC,EAAST,EAAGS,OAAQC,EAAYV,EAAGU,UAAWC,EAAWX,EAAGW,SAAUC,EAAaZ,EAAGY,WAAYC,EAAcb,EAAGa,YAAaC,EAAed,EAAGc,aAAcC,EAAaf,EAAGe,WAAYC,EAAOxC,EAAOwB,EAAI,CAAC,OAAQ,OAAQ,WAAY,QAAS,iBAAkB,QAAS,oBAAqB,UAAW,SAAU,YAAa,WAAY,aAAc,cAAe,eAAgB,eAChlBT,EAAS,CACTmB,UAAWA,EACXC,SAAUA,EACVC,WAAYA,EACZC,YAAaA,EACbC,aAAcA,EACdC,WAAYA,GAEZE,EAAMd,GAAQD,EAElB,GAAmB,kBAARe,EACP,IACIA,EAAMC,KAAKC,MAAMF,GAErB,MAAOxC,GAWH,OAVKgC,GACDW,QAAQC,KAAK,wBAA0B5C,EAAE6C,SAEzCf,GACAA,EAAkB9B,IAEjB8B,GAAqBC,IACtBA,EAAQ/B,GACR2C,QAAQC,KAAK,sFAETlC,EAAMoC,cAAc,MAAOzD,EAAS,GAAIkD,EAAM,CAAEQ,wBAAyB,CAAEC,OAAQ,qCAAyCrC,EAAS,QAASE,EAAOC,GAAU,KAxC1KtB,EAwCoLgD,GAvCxLhD,EAGEA,EAAEyD,QAAQ,cAAc,SAAUC,GACrC,OAAO/B,EAAO+B,MAHP1D,GAsCyL,cAIhM,OAAQkB,EAAMoC,cAAc,MAAOzD,EAAS,GAAIkD,EAAM,CAAEQ,wBAAyB,CAAEC,OAAQ,eAAkBnB,EAAiB,IAAOlB,EAAS,OAAQE,EAAOC,GAAU,IAAMvC,KAAK4E,QAAQtC,EAAO2B,EAAKb,GAAWC,EAAOd,GAAU,cAItOM,EAAWjC,UAAUgE,QAAU,SAAUtC,EAAO2B,EAAKb,EAAUC,EAAOd,GAElE,IACIsC,EAAOX,KAAKY,UAAUb,EAAyB,oBAAbb,EAA0BA,EAAW,KAAM2B,MAAM1B,GAAS,EAAIA,GAEpG,OAAKwB,EAGEA,EAAKH,QAAQ,KAAM,SAASA,QAAQ,aAAc,cACpDA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QACpCA,QARS,sEAQQ1E,KAAKgF,SAASC,KAAK,KAAM3C,EAAOC,IAJ3CsC,GAOfhC,EAAWjC,UAAUoE,SAAW,SAAU1C,EAAOC,EAAQ2C,EAAOC,EAAKC,EAAKC,EAAKC,GAC3E,IAAIC,EAAU,UACVC,EAAU,6BAAiCpD,EAAS,MAAOE,EAAOC,GAAU,IAC5EkD,EAAU,+BAAmCrD,EAAS,QAASE,EAAOC,GAAU,IAChFmD,EAAU,gCAAoCtD,EAAS,SAAUE,EAAOC,GAAU,IAClFoD,EAAU,iCAAqCvD,EAAS,UAAWE,EAAOC,GAAU,IACpFqD,EAAMT,GAAO,GAYjB,OAXIC,IACAQ,EAAMA,EAAM,IAAMJ,EAAUJ,EAAIV,QAAQ,YAAa,IAA/CkB,cAENP,IAEIO,EADQ,SAARP,GAA0B,UAARA,EACZO,EAAMD,EAAUN,EAAME,EAGtBK,GAAkB,MAAXP,EAAI,GAAaK,EAAUD,GAAWJ,EAAME,GAG1DK,GAAON,GAAO,KAEzBzC,EAAWgD,UAAY,CACnB1C,KAAMlB,EAAU6D,IAChB5C,KAAMjB,EAAU6D,IAChB1C,SAAUnB,EAAU8D,KACpBtC,OAAQxB,EAAU+D,KAClB3C,MAAOpB,EAAUgE,UAAU,CAAChE,EAAUiE,OAAQjE,EAAUkE,SACxD7D,MAAOL,EAAUmE,OACjB9C,eAAgBrB,EAAUkE,OAC1B5C,kBAAmBtB,EAAU8D,MAEjClD,EAAWwD,aAAe,CACtBlD,KAAM,GACND,KAAM,GACNO,QAAQ,EACRJ,MAAO,EACPC,eAAgB,mBAEbT,EA1FqB,CA2F9BV,EAAMmE,WACRC,EAAOC,QAAU3D,G,4LC3JI4D,E,kDACnB,WAAYxD,GAAQ,IAAD,8BACjB,cAAMA,IAORyD,eAAiB,SAACC,GAGhB,GAAKA,EAAMxD,KAAKyD,MAIQ,yBAApBD,EAAMxD,KAAKyD,KAAf,CAMaC,SAASC,qBAAqB,UAAU,GAE9CpE,MAAQ,iBAEFmE,SAASC,qBAAqB,UAAU,GAC9CpE,MAAQ,iBAOf0B,QAAQ2C,IAAI,eAAgBJ,EAAMxD,MAElC,IAAIc,EAAM0C,EAAMxD,KAAKA,KACjBD,EAAOgB,KAAKY,UAAUb,GAC1B,EAAK+C,SAAS,CAAE9D,KAAMA,MAlCtB,EAAK+D,MAAQ,CACX/D,MAAM,GAJS,E,qDA8CnB,WAWEgE,OAAOC,YANO,CACZP,KAAM,mBAGW,KAMnBM,OAAOE,iBAAiB,UAAWpH,KAAK0G,gBAAgB,GAUxD,IAEIxD,EAAOgB,KAAKY,UAFN,CAAEuC,EAAG,EAAGlH,EAAG,IAGrBH,KAAKgH,SAAS,CAAE9D,KAAMA,M,oBAIxB,WAEE,IAAIoE,EAAWtH,KAAKiH,MAAM/D,KAC1B,OACE,qCACE,qBAAKqE,MAAM,kBAAX,SACE,sBAAKA,MAAM,QAAX,UACE,qBAAKA,MAAM,0BAAX,kBACA,qBAAKA,MAAM,YAAX,SACE,cAAC,IAAD,CAAYC,GAAG,cAAcrE,KAAMmE,MAErC,qBAAKC,MAAM,yBAAX,uBAGJ,4C,GA7F6BpF,IAAMmE","file":"static/js/13.2a411191.chunk.js","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar PropTypes = __importStar(require(\"prop-types\"));\nvar React = __importStar(require(\"react\"));\nfunction getStyleValue(name, theme, styles) {\n    var extra = styles[name + 'Style'] || '';\n    var style = theme ? theme[name] || '' : '';\n    return extra ? extra + \";\" + style : style;\n}\nfunction getStyle(name, theme, styles) {\n    var value = getStyleValue(name, theme, styles);\n    return value ? \" style=\\\"\" + value + \"\\\"\" : '';\n}\nvar xssmap = {\n    '\"': '&quot;',\n    '\\'': '&apos;',\n    '&': '&amp;',\n    '>': '&gt;',\n    '<': '&lt',\n};\nfunction xss(s) {\n    if (!s) {\n        return s;\n    }\n    return s.replace(/<|>|&|\"|'/g, function (m) {\n        return xssmap[m];\n    });\n}\nvar JSONPretty = /** @class */ (function (_super) {\n    __extends(JSONPretty, _super);\n    function JSONPretty() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    JSONPretty.prototype.render = function () {\n        var _a = this.props, json = _a.json, data = _a.data, replacer = _a.replacer, space = _a.space, themeClassName = _a.themeClassName, theme = _a.theme, onJSONPrettyError = _a.onJSONPrettyError, onError = _a.onError, silent = _a.silent, mainStyle = _a.mainStyle, keyStyle = _a.keyStyle, valueStyle = _a.valueStyle, stringStyle = _a.stringStyle, booleanStyle = _a.booleanStyle, errorStyle = _a.errorStyle, rest = __rest(_a, [\"json\", \"data\", \"replacer\", \"space\", \"themeClassName\", \"theme\", \"onJSONPrettyError\", \"onError\", \"silent\", \"mainStyle\", \"keyStyle\", \"valueStyle\", \"stringStyle\", \"booleanStyle\", \"errorStyle\"]);\n        var styles = {\n            mainStyle: mainStyle,\n            keyStyle: keyStyle,\n            valueStyle: valueStyle,\n            stringStyle: stringStyle,\n            booleanStyle: booleanStyle,\n            errorStyle: errorStyle\n        };\n        var obj = data || json;\n        // See https://facebook.github.io/react/warnings/unknown-prop.html\n        if (typeof obj === 'string') {\n            try {\n                obj = JSON.parse(obj);\n            }\n            catch (e) {\n                if (!silent) {\n                    console.warn(\"[react-json-pretty]: \" + e.message);\n                }\n                if (onJSONPrettyError) {\n                    onJSONPrettyError(e);\n                }\n                if (!onJSONPrettyError && onError) {\n                    onError(e);\n                    console.warn('JSONPretty#onError is deprecated, please use JSONPretty#onJSONPrettyError instead');\n                }\n                return (React.createElement(\"div\", __assign({}, rest, { dangerouslySetInnerHTML: { __html: \"<pre class=\\\"__json-pretty-error__\\\"\" + getStyle('error', theme, styles) + \">\" + xss(obj) + \"</pre>\"\n                    } })));\n            }\n        }\n        return (React.createElement(\"div\", __assign({}, rest, { dangerouslySetInnerHTML: { __html: \"<pre class=\\\"\" + themeClassName + \"\\\"\" + getStyle('main', theme, styles) + \">\" + this._pretty(theme, obj, replacer, +space, styles) + \"</pre>\"\n            } })));\n    };\n    // JSON =》 HTML转换器\n    JSONPretty.prototype._pretty = function (theme, obj, replacer, space, styles) {\n        // 逐行匹配，列举：“key”: \"value\" | \"key\": value | \"key\": [ | \"key\": { | \"key\": [],| \"Key\": {},\n        var regLine = /^( *)(\"[^\"]+\": )?(\"[^\"]*\"|[\\w.+-]*)?([,[{]|\\[\\s*\\],?|\\{\\s*\\},?)?$/mg;\n        var text = JSON.stringify(obj, typeof replacer === 'function' ? replacer : null, isNaN(space) ? 2 : space);\n        /* istanbul ignore next */\n        if (!text) {\n            return text;\n        }\n        return text.replace(/&/g, '&amp;').replace(/\\\\\"([^,])/g, '\\\\&quot;$1')\n            .replace(/</g, '&lt;').replace(/>/g, '&gt;')\n            .replace(regLine, this._replace.bind(null, theme, styles));\n    };\n    // 格式化函数\n    JSONPretty.prototype._replace = function (theme, styles, match, ind, key, val, tra) {\n        var spanEnd = '</span>';\n        var keySpan = \"<span class=\\\"__json-key__\\\"\" + getStyle('key', theme, styles) + \">\";\n        var valSpan = \"<span class=\\\"__json-value__\\\"\" + getStyle('value', theme, styles) + \">\";\n        var strSpan = \"<span class=\\\"__json-string__\\\"\" + getStyle('string', theme, styles) + \">\";\n        var booSpan = \"<span class=\\\"__json-boolean__\\\"\" + getStyle('boolean', theme, styles) + \">\";\n        var sps = ind || '';\n        if (key) {\n            sps = sps + '\"' + keySpan + key.replace(/^\"|\":\\s$/g, '') + spanEnd + '\": ';\n        }\n        if (val) {\n            if (val === 'true' || val === 'false') {\n                sps = sps + booSpan + val + spanEnd;\n            }\n            else {\n                sps = sps + (val[0] === '\"' ? strSpan : valSpan) + val + spanEnd;\n            }\n        }\n        return sps + (tra || '');\n    };\n    JSONPretty.propTypes = {\n        data: PropTypes.any,\n        json: PropTypes.any,\n        replacer: PropTypes.func,\n        silent: PropTypes.bool,\n        space: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        theme: PropTypes.object,\n        themeClassName: PropTypes.string,\n        onJSONPrettyError: PropTypes.func\n    };\n    JSONPretty.defaultProps = {\n        data: '',\n        json: '',\n        silent: true,\n        space: 2,\n        themeClassName: '__json-pretty__',\n    };\n    return JSONPretty;\n}(React.Component));\nmodule.exports = JSONPretty;\n","import React from \"react\";\nimport JSONPretty from \"react-json-pretty\";\nimport \"react-json-pretty/themes/monikai.css\";\n\nexport default class WebApis extends React.Component {\n  constructor(props) {\n    super(props);\n    // console.log(\"constructor\");\n    this.state = {\n      json: false,\n    };\n  }\n\n  receiveMessage = (event) => {\n    // console.log(\"JSONViewer\", \"receiveMessage: \", event);\n\n    if (!event.data.from) {\n      return;\n    }\n\n    if (event.data.from !== \"mozg_content_scripts\") {\n      return;\n    }\n\n    //\n\n    var header = document.getElementsByTagName(\"header\")[0];\n    // console.log(\"header: \", header);\n    header.style = \"display: none;\";\n\n    var footer = document.getElementsByTagName(\"footer\")[0];\n    footer.style = \"display: none;\";\n\n    //\n\n    // if (event.origin.startsWith(\"chrome-extension://\")) {\n    // The data was sent from your site.\n    // Data sent with postMessage is stored in event.data:\n    console.log(\"event.data: \", event.data);\n\n    let obj = event.data.data;\n    var json = JSON.stringify(obj);\n    this.setState({ json: json });\n    // } else {\n    // The data was NOT sent from your site!\n    // Be careful! Do not use it. This else branch is\n    // here just for clarity, you usually shouldn't need it.\n    //   return;\n    // }\n  };\n\n  componentDidMount() {\n    // console.log(\"componentDidMount: \", this);\n\n    //\n\n    let message = {\n      from: \"mozg_jsonviewer\",\n    };\n\n    let targetOrigin = \"*\";\n\n    window.postMessage(message, targetOrigin);\n\n    //\n\n    window.addEventListener(\"message\", this.receiveMessage, false);\n\n    // window.top.onload = function() {\n    //   console.log(\"window.top.onload: \", arguments);\n    //   let body = document.body.textContent.trim();\n    //   console.log(\"body: \", body);\n    // };\n\n    //\n\n    let obj = { a: 1, b: 2 };\n\n    var json = JSON.stringify(obj);\n    this.setState({ json: json });\n    //\n  }\n\n  render() {\n    // console.log(\"render: \", this);\n    let jsonData = this.state.json;\n    return (\n      <>\n        <div class='container-fluid'>\n          <div class='card '>\n            <div class='card-header text-center'>JSON</div>\n            <div class='card-body'>\n              <JSONPretty id='json-pretty' data={jsonData}></JSONPretty>\n            </div>\n            <div class='card-footer text-muted'>&nbsp;</div>\n          </div>\n        </div>\n        <p>&nbsp;</p>\n      </>\n    );\n  }\n}\n"],"sourceRoot":""}